{% extends 'base_blog.html' %}

{% load static %}
{% block title %}Detail: {{ article.title }}{% endblock %}

{% block main_content %}

<div class="container mt-5">
    <div class="card shadow p-4">
        <h1 class="text-center mb-4">{{ article.title }}</h1>

        {% if article.image %}
            <div class="text-center mb-4">
                <img src="{{ article.image.url }}" alt="{{ article.title }}" class="img-fluid rounded" style="max-height: 400px;">
            </div>
        {% endif %}

        {% if article.introduction %}
            <div class="mb-4 p-3 rounded" style="background-color: #f8f9fa;">
                <h5 class="mb-3">Introduction</h5>
                <p>{{ article.introduction|linebreaksbr }}</p>
            </div>
        {% endif %}

        {% if article.subtitle_1 or article.contenu_1 or article.image_1 %}
            <div class="mb-4 p-3 rounded" style="background-color: #e9ecef;">
                <button class="btn btn-block btn-outline-secondary mb-3" type="button" data-bs-toggle="collapse" data-bs-target="#section1" aria-expanded="true" aria-controls="section1">
                    Section 1: {{ article.subtitle_1|default:"Section 1" }}
                </button>
                <div class="collapse show" id="section1">
                    {% if article.subtitle_1 %}
                        <h6 class="mb-3">{{ article.subtitle_1 }}</h6>
                    {% endif %}
                    {% if article.contenu_1 %}
                        <p>{{ article.contenu_1|linebreaksbr }}</p>
                    {% endif %}
                    {% if article.image_1 %}
                        <div class="text-center">
                            <img src="{{ article.image_1.url }}" alt="{{ article.subtitle_1 }}" class="img-fluid rounded" style="max-height: 300px;">
                        </div>
                    {% endif %}
                </div>
            </div>
        {% endif %}

        {% if article.subtitle_2 or article.contenu_2 or article.image_2 %}
            <div class="mb-4 p-3 rounded" style="background-color: #f0f8ff;">
                <button class="btn btn-block btn-outline-secondary mb-3" type="button" data-bs-toggle="collapse" data-bs-target="#section2" aria-expanded="false" aria-controls="section2">
                    Section 2: {{ article.subtitle_2|default:"Section 2" }}
                </button>
                <div class="collapse" id="section2">
                    {% if article.subtitle_2 %}
                        <h6 class="mb-3">{{ article.subtitle_2 }}</h6>
                    {% endif %}
                    {% if article.contenu_2 %}
                        <p>{{ article.contenu_2|linebreaksbr }}</p>
                    {% endif %}
                    {% if article.image_2 %}
                        <div class="text-center">
                            <img src="{{ article.image_2.url }}" alt="{{ article.subtitle_2 }}" class="img-fluid rounded" style="max-height: 300px;">
                        </div>
                    {% endif %}
                </div>
            </div>
        {% endif %}

        {% if article.subtitle_3 or article.contenu_3 or article.image_3 %}
            <div class="mb-4 p-3 rounded" style="background-color: #f8f0e0;">
                <button class="btn btn-block btn-outline-secondary mb-3" type="button" data-bs-toggle="collapse" data-bs-target="#section3" aria-expanded="false" aria-controls="section3">
                    Section 3: {{ article.subtitle_3|default:"Section 3" }}
                </button>
                <div class="collapse" id="section3">
                    {% if article.subtitle_3 %}
                        <h6 class="mb-3">{{ article.subtitle_3 }}</h6>
                    {% endif %}
                    {% if article.contenu_3 %}
                        <p>{{ article.contenu_3|linebreaksbr }}</p>
                    {% endif %}
                    {% if article.image_3 %}
                        <div class="text-center">
                            <img src="{{ article.image_3.url }}" alt="{{ article.subtitle_3 }}" class="img-fluid rounded" style="max-height: 300px;">
                        </div>
                    {% endif %}
                </div>
            </div>
        {% endif %}

        {% if article.subtitle_4 or article.contenu_4 or article.image_4 %}
            <div class="mb-4 p-3 rounded" style="background-color: #e0f8e0;">
                <button class="btn btn-block btn-outline-secondary mb-3" type="button" data-bs-toggle="collapse" data-bs-target="#section4" aria-expanded="false" aria-controls="section4">
                    Section 4: {{ article.subtitle_4|default:"Section 4" }}
                </button>
                <div class="collapse" id="section4">
                    {% if article.subtitle_4 %}
                        <h6 class="mb-3">{{ article.subtitle_4 }}</h6>
                    {% endif %}
                    {% if article.contenu_4 %}
                        <p>{{ article.contenu_4|linebreaksbr }}</p>
                    {% endif %}
                    {% if article.image_4 %}
                        <div class="text-center">
                            <img src="{{ article.image_4.url }}" alt="{{ article.subtitle_4 }}" class="img-fluid rounded" style="max-height: 300px;">
                        </div>
                    {% endif %}
                </div>
            </div>
        {% endif %}
    </div>
</div>

{% endblock %}
